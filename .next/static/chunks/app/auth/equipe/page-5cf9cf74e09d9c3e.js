(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{1991:function(e,t,a){Promise.resolve().then(a.bind(a,55959))},55959:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(57437);a(2265);var r=a(96840),i=a(47656),n=a(27648);function c(){let e=(0,i.R)(e=>e.equipes),t=(0,i.R)(e=>e.deleteEquipe);return(0,s.jsx)(r.Z,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(n.default,{href:"/auth/equipe/nova",className:"inline-flex items-center rounded bg-primary-500 px-4 py-2 text-white hover:bg-primary-600",children:"Nova Equipe"})}),0===e.length?(0,s.jsx)("p",{className:"text-gray-600",children:"Nenhuma equipe cadastrada."}):(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 bg-white shadow-sm rounded-lg",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Nome"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Membros"}),(0,s.jsx)("th",{className:"px-4 py-2"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:e.nome}),(0,s.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:e.membros.length}),(0,s.jsxs)("td",{className:"px-4 py-2 text-right space-x-2",children:[(0,s.jsx)(n.default,{href:"/auth/equipe/".concat(e.id),className:"text-sm text-primary-600 hover:underline",children:"Editar"}),(0,s.jsx)("button",{onClick:()=>t(e.id),className:"text-sm text-error-500 hover:underline",children:"Excluir"})]})]},e.id))})]})]})})}},96840:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var s=a(57437),r=a(2265),i=a(84832),n=a(46410),c=a(43301),o=a(13491),l=a(99376);function u(e){let{children:t}=e,{role:a,loading:u}=function(){let{user:e}=(0,i.a)(),[t,a]=(0,r.useState)("member"),[s,l]=(0,r.useState)(!0);async function u(e){if(!e){a("member"),l(!1);return}a("admin"===(await e.getIdTokenResult(!0)).claims.role?"admin":"member"),l(!1)}return(0,r.useEffect)(()=>{u(e)},[e]),(0,r.useEffect)(()=>{let e=(0,c.MX)(n.I,e=>{u(e)});return()=>e()},[]),{role:t,setRole:(0,r.useCallback)(async t=>{if(!e)return;let a=(0,o.$C)(),s=(0,o.V1)(a,"setUserRole");await s({uid:e.uid,role:t}),await e.getIdToken(!0)},[e]),loading:s}}(),d=(0,l.useRouter)();return((0,r.useEffect)(()=>{u||"admin"===a||d.replace("/")},[u,a,d]),u)?(0,s.jsx)("p",{className:"p-4 text-center text-gray-600",children:"Verificando permiss\xf5es..."}):"admin"!==a?(0,s.jsx)("p",{className:"p-4 text-center text-gray-600",children:"Acesso restrito aos administradores..."}):(0,s.jsx)(s.Fragment,{children:t})}},84832:function(e,t,a){"use strict";a.d(t,{a:function(){return u}});var s=a(2265),r=a(46410),i=a(43301),n=a(64131),c=a(738),o=a(82650);function l(e,t){let a=function(){try{let e=(0,c.C6)().length>0?(0,c.C6)()[0]:(0,c.ZF)({apiKey:"AIzaSyAxDEIXRouCF63f9GK-ShqzTaKQhQIjvyw",authDomain:"controle-horarios-medicos.firebaseapp.com",projectId:"controle-horarios-medicos",storageBucket:"controle-horarios-medicos.firebasestorage.app",messagingSenderId:"977729325505",appId:"1:977729325505:web:82fe901b78d874ef81c740",measurementId:"YOUR_MEASUREMENT_ID"});return o.getAnalytics(e)}catch(e){return console.warn("Analytics init falhou",e),null}}();a&&o.logEvent(a,e,t)}function u(){let[e,t]=(0,s.useState)(null),[a,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,i.Aj)(r.I,async e=>{if(t(e),e){let t=await e.getIdToken();n.Z.set("auth-token",t,{expires:1}),localStorage.setItem("user",JSON.stringify({uid:e.uid,email:e.email}))}else n.Z.remove("auth-token"),localStorage.removeItem("user");c(!1)}),a=(0,i.MX)(r.I,async e=>{if(e){let t=await e.getIdToken();n.Z.set("auth-token",t,{expires:1})}});return()=>{e(),a()}},[]);let o=(0,s.useCallback)(async(e,t)=>{await (0,i.e5)(r.I,e,t),l("login_success")},[]);return{user:e,loading:a,login:o,register:(0,s.useCallback)(async(e,t)=>{await (0,i.Xb)(r.I,e,t),l("register_success")},[]),logout:(0,s.useCallback)(async()=>{await (0,i.w7)(r.I),l("logout")},[]),resetPassword:(0,s.useCallback)(async e=>{await (0,i.LS)(r.I,e)},[])}}},46410:function(e,t,a){"use strict";let s;a.d(t,{I:function(){return o},db:function(){return l}});var r,i=a(738),n=a(43301),c=a(5978);s=null!==(r=window._firebaseApp)&&void 0!==r?r:(0,i.ZF)({apiKey:"AIzaSyAxDEIXRouCF63f9GK-ShqzTaKQhQIjvyw",authDomain:"controle-horarios-medicos.firebaseapp.com",projectId:"controle-horarios-medicos",storageBucket:"controle-horarios-medicos.firebasestorage.app",messagingSenderId:"977729325505",appId:"1:977729325505:web:82fe901b78d874ef81c740",measurementId:"YOUR_MEASUREMENT_ID"}),window._firebaseApp=s;let o=(0,n.v0)(s),l=(0,c.ad)(s)},47656:function(e,t,a){"use strict";a.d(t,{R:function(){return i}});var s=a(3011),r=a(89134);let i=(0,s.U)()((0,r.tJ)(e=>({equipes:[],addEquipe:t=>e(e=>({equipes:[...e.equipes,t]})),updateEquipe:(t,a)=>e(e=>({equipes:e.equipes.map(e=>e.id===t?{...e,...a}:e)})),deleteEquipe:t=>e(e=>({equipes:e.equipes.filter(e=>e.id!==t)}))}),{name:"equipe-store"}))}},function(e){e.O(0,[358,237,996,553,990,162,648,491,971,117,744],function(){return e(e.s=1991)}),_N_E=e.O()}]);