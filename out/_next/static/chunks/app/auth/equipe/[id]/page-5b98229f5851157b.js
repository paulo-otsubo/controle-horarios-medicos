(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{62998:function(e,t,n){Promise.resolve().then(n.bind(n,10205))},10205:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var s=n(57437),i=n(2265),a=n(99376),r=n(47656),u=n(65044),c=n(96840);function o(){let e=(0,a.useParams)(),t=null==e?void 0:e.id,{equipes:n,updateEquipe:o}=(0,r.R)(e=>({equipes:e.equipes,updateEquipe:e.updateEquipe})),d=(0,a.useRouter)(),l=(0,i.useMemo)(()=>n.find(e=>e.id===t),[n,t]);return l?(0,s.jsx)(c.Z,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-xl rounded-lg bg-white p-6 shadow-sm",children:[(0,s.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Editar Equipe"}),(0,s.jsx)(u.Z,{initial:l,onSubmit:function(e){o(t,{nome:e.nome,descricao:e.descricao,updatedAt:new Date().toISOString()}),d.push("/auth/equipe")},onCancel:()=>d.back()})]})}):(0,s.jsx)("p",{className:"p-4 text-center",children:"Equipe n\xe3o encontrada."})}},96840:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(57437),i=n(2265),a=n(84832),r=n(46410),u=n(43301),c=n(13491),o=n(99376);function d(e){let{children:t}=e,{role:n,loading:d}=function(){let{user:e}=(0,a.a)(),[t,n]=(0,i.useState)("member"),[s,o]=(0,i.useState)(!0);async function d(e){if(!e){n("member"),o(!1);return}n("admin"===(await e.getIdTokenResult(!0)).claims.role?"admin":"member"),o(!1)}return(0,i.useEffect)(()=>{d(e)},[e]),(0,i.useEffect)(()=>{let e=(0,u.MX)(r.I,e=>{d(e)});return()=>e()},[]),{role:t,setRole:(0,i.useCallback)(async t=>{if(!e)return;let n=(0,c.$C)(),s=(0,c.V1)(n,"setUserRole");await s({uid:e.uid,role:t}),await e.getIdToken(!0)},[e]),loading:s}}(),l=(0,o.useRouter)();return((0,i.useEffect)(()=>{d||"admin"===n||l.replace("/")},[d,n,l]),d)?(0,s.jsx)("p",{className:"p-4 text-center text-gray-600",children:"Verificando permiss\xf5es..."}):"admin"!==n?(0,s.jsx)("p",{className:"p-4 text-center text-gray-600",children:"Acesso restrito aos administradores..."}):(0,s.jsx)(s.Fragment,{children:t})}}},function(e){e.O(0,[358,237,188,909,544,375,787,971,117,744],function(){return e(e.s=62998)}),_N_E=e.O()}]);