(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{46760:function(e,r,t){Promise.resolve().then(t.bind(t,48256))},48256:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return s}});var a=t(57437),n=t(2265),o=t(54754);function s(){let[e,r]=(0,n.useState)((0,o.Z)(new Date,"yyyy-MM")),[t,s]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null);async function c(){s(!0),l(null);try{let r=await fetch("/api/relatorios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({month:e})}),t=await r.json();if(!r.ok)throw Error(t.error||"Erro ao gerar relat\xf3rio");window.open(t.url,"_blank")}catch(e){l(e instanceof Error?e.message:"Erro ao gerar relat\xf3rio")}finally{s(!1)}}return(0,a.jsxs)("div",{className:"max-w-lg space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"M\xeas (AAAA-MM)"}),(0,a.jsx)("input",{type:"month",value:e,onChange:e=>r(e.target.value),className:"mt-1 w-full rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),i&&(0,a.jsx)("p",{className:"text-error-500 text-sm",children:i}),(0,a.jsx)("button",{onClick:c,disabled:t,className:"rounded bg-primary-500 px-4 py-2 text-white hover:bg-primary-600 disabled:opacity-50",children:t?"Gerando...":"Exportar CSV"})]})}}},function(e){e.O(0,[754,971,117,744],function(){return e(e.s=46760)}),_N_E=e.O()}]);