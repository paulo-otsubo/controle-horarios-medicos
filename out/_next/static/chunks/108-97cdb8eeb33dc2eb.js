"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{35108:function(e,t,r){r.d(t,{Y:function(){return s}});var o=r(2265),n=r(77280),i=r(47656),a=r(24738);function s(){let e=(0,n.F)(e=>e.registros),t=(0,i.R)(e=>e.equipes);return(0,o.useMemo)(()=>{let r=new Map;return e.forEach(e=>{var o,n,i;let s=null!==(i=r.get(e.equipeId))&&void 0!==i?i:{equipeId:e.equipeId,equipeNome:null!==(n=null===(o=t.find(t=>t.id===e.equipeId))||void 0===o?void 0:o.nome)&&void 0!==n?n:"Sem equipe",horasTrabalho:0,horasSobreaviso:0},u=(0,a.PA)(e.horaEntrada,e.horaSaida);"trabalho"===e.tipo?s.horasTrabalho+=u:s.horasSobreaviso+=u,r.set(e.equipeId,s)}),Array.from(r.values()).sort((e,t)=>e.equipeNome.localeCompare(t.equipeNome))},[e,t])}},24738:function(e,t,r){function o(e){let[t,r]=e.split(":").map(Number);return 60*t+r}function n(e,t){let r=o(e),n=o(t);return n<r&&(n+=1440),(n-r)/60}r.d(t,{PA:function(){return n}})},46410:function(e,t,r){let o;r.d(t,{I:function(){return u},db:function(){return l}});var n,i=r(738),a=r(43301),s=r(5978);o=null!==(n=window._firebaseApp)&&void 0!==n?n:(0,i.ZF)({apiKey:"AIzaSyAxDEIXRouCF63f9GK-ShqzTaKQhQIjvyw",authDomain:"controle-horarios-medicos.firebaseapp.com",projectId:"controle-horarios-medicos",storageBucket:"controle-horarios-medicos.firebasestorage.app",messagingSenderId:"977729325505",appId:"1:977729325505:web:82fe901b78d874ef81c740",measurementId:"YOUR_MEASUREMENT_ID"}),window._firebaseApp=o;let u=(0,a.v0)(o),l=(0,s.ad)(o);try{(0,s.ST)(l)}catch(e){e instanceof i.ZR&&("failed-precondition"===e.code?console.warn("A persist\xeancia do Firestore falhou. Isso geralmente ocorre se voc\xea tiver v\xe1rias abas abertas. Os dados n\xe3o ser\xe3o salvos offline nesta aba."):"unimplemented"===e.code&&console.warn("O navegador atual n\xe3o suporta persist\xeancia offline do Firestore."))}},47656:function(e,t,r){r.d(t,{R:function(){return i}});var o=r(3011),n=r(89134);let i=(0,o.U)()((0,n.tJ)(e=>({equipes:[],addEquipe:t=>e(e=>({equipes:[...e.equipes,t]})),updateEquipe:(t,r)=>e(e=>({equipes:e.equipes.map(e=>e.id===t?{...e,...r}:e)})),deleteEquipe:t=>e(e=>({equipes:e.equipes.filter(e=>e.id!==t)}))}),{name:"equipe-store"}))},77280:function(e,t,r){r.d(t,{F:function(){return s}});var o=r(3011),n=r(89134),i=r(46410),a=r(5978);let s=(0,o.U)()((0,n.tJ)(e=>({registros:[],addRegistro:async t=>{e(e=>({registros:[...e.registros,t]}));try{await (0,a.pl)((0,a.JU)(i.db,"registros",t.id),t)}catch(r){throw console.error("Erro ao salvar no Firestore",r),e(e=>({registros:e.registros.filter(e=>e.id!==t.id)})),r}},updateRegistro:async(t,r)=>{e(e=>({registros:e.registros.map(e=>e.id===t?{...e,...r}:e)}));try{await (0,a.r7)((0,a.JU)(i.db,"registros",t),r)}catch(e){console.error("Erro ao atualizar no Firestore",e)}},deleteRegistro:async t=>{e(e=>({registros:e.registros.filter(e=>e.id!==t)}));try{await (0,a.oe)((0,a.JU)(i.db,"registros",t))}catch(e){console.error("Erro ao deletar no Firestore",e)}},setRegistros:t=>e({registros:t})}),{name:"registro-store"}))},89134:function(e,t,r){r.d(t,{tJ:function(){return n}});let o=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>o(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>o(t)(e)}}},n=(e,t)=>(r,n,i)=>{let a,s={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let o=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(o):o(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},u=!1,l=new Set,d=new Set,c=s.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...e)},n,i);let p=()=>{let e=s.partialize({...n()});return c.setItem(s.name,{state:e,version:s.version})},f=i.setState;i.setState=(e,t)=>{f(e,t),p()};let g=e((...e)=>{r(...e),p()},n,i);i.getInitialState=()=>g;let m=()=>{var e,t;if(!c)return;u=!1,l.forEach(e=>{var t;return e(null!=(t=n())?t:g)});let i=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=n())?e:g))||void 0;return o(c.getItem.bind(c))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate){let t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[o,i]=e;if(r(a=s.merge(i,null!=(t=n())?t:g),!0),o)return p()}).then(()=>{null==i||i(a,void 0),a=n(),u=!0,d.forEach(e=>e(a))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>u,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},s.skipHydration||m(),a||g}},3011:function(e,t,r){r.d(t,{U:function(){return u}});var o=r(2265);let n=e=>{let t;let r=new Set,o=(e,o)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=o?o:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,i={setState:o,getState:n,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(o,n,i);return i},i=e=>e?n(e):n,a=e=>e,s=e=>{let t=i(e),r=e=>(function(e,t=a){let r=o.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return o.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},u=e=>e?s(e):s}}]);